# Java_TIL_Day_07



- 목차 
  - 6장 클래스





## 6장 클래스



### 생성자

- 객체가 생성되는 순간에 자동으로 호출되는 메소드
- 객체가 생성될 때 초기화를 위해 사용
- 생성자가 없다면 객체를 초기화하기 위해서 메소드를 만들고 반드시 호출해줘야 한다



#### 생성자 특징

- 클래스 이름과 동일
- 반환값 / 반환형 없음
- new 연산자를 통해 객체를 생성할 때만 단 한 번 자동으로 호출
- 아무 때나 호출해서 사용할 수 없음
- 오버로딩 가능 - 여러 개의 생성자(매개변수 다르게)
  - 생성자 오버로딩
    - 하나의 클래스에 생성자를 여러 개 기술하면 객체 생성 시 매개변수의 개수, 
      데이터 타입, 순서가 일치하는 생성자를 알아서 호출



#### 생성자의 용도

- 멤버 필드 초기화

- 객체가 처음 생성되는 순간에 처리할 작업 수행

  ```java
  public Test(float rate, String name) {
  	this.rate = rate;
  	this.name = name;
  }
  ```



#### 생성자 유형

- 디폴트 생성자 (default constructor)

  - 매개변수 없고 실행 내용도 없이 자동 생성되는 생성자

    ```java
    public Test() { }
    ```

  - 생성자가 없는 클래스는 없으며 클래스에 생성자가 하나라도 정의되어 있지 않으면 컴파일러가 기본 생성자를 자동으로 생성 (개발자 눈에만 보이지 않을 뿐)
  - 생성자가 하나라도 존재하면 기본 생성자는 자동으로 삽입되지 않음

- 매개변수가 있는 생성자

  - 객체 생성 시 값을 자동으로 전달하는 생성자

  - 주의! - 객체 생성 시 반드시 값을 전달해야 함

  - 정의된 매개변수 개수, 데이터 타입, 순서대로 타입에 맞게 전달

    ```java
    public Test(float rate, String name) {
    	this.rate = rate;
    	this.name = name;
    }
    public static void main(String[] args){
    		Test t = new Test(0.5, “홍길동”);
    }
    ```

    

### this 레퍼런스

- 클래스 내에서 객체 자신을 가리키는 레퍼런스

- 컴파일러에 의해 자동 생성 (사용자가 별도로 선언하지 않음)

  

- 용도

  - 전달 받은 매개변수 값으로 멤버 필드의 값 설정 시
  - 매개변수 이름과 멤버 필드명을 구별하기 위해서 사용(this.멤버필드)
  - 객체 자신의 레퍼런스 반환하는 경우



### this() 메소드

- 한 생성자 안에서 다른 생성자를 호출할 때 사용
- 생성자 안에서만 사용 가능
- 호출되는 생성자는 this() 메소드 안에 기술된 인수의 개수, 자료형에 의해 결정
- 주의!!! - this() 메소드는 생성자 내에서 첫 번째 줄에 기술해야 함



### 인스턴스 멤버 vs static 멤버



#### 인스턴스 멤버

- non-static 멤버

- 객체를 통해서 접근

- 지금까지 우리가 만들었던 객체(인스턴스) 멤버

- 객체가 생성될 때 각 객체 내부에 하나씩 생성

- 객체마다 자신의 고유 멤버 공간을 가짐

- 다른 객체들과 공유하지 않음

- 객체가 사라지면 함께 사라짐

  

- 인스턴스 초기화 블록

  - 인스턴스의 복잡한 초기화는 생성자를 이용하면 되므로 인스턴스 초기화 블록은 거의 사용되지 않음
  - 그래서 인스턴스 초기화 블록은 각 생성자에서 공통적으로 수행해야 작업을 따로 뽑아서 처리하는데 사용
  - 각 생성자에서 수행될 공통 부분을 인스턴스 초기화 블록에 뽑아 놓으면 코드 중복 제거



#### static 멤버 (정적 멤버)

- 클래스에 고정된 필드와 메소드

- 클래스에 소속된 멤버 (클래스 당 하나만 생성)

- 객체를 생성하지 않고 클래스로 바로 접근해서 사용

- 클래스 내의 모든 객체들이 공유

- 프로그램이 시작될 때 이미 생성

- 객체 보다 먼저 생성됨

- 프로그램이 종료될 때 사라짐

  

- static 멤버 사용

  - 클래스 이름과 함께 도트(.) 연산로 접근

    ```java
    클래스명.static필드
    클래스명.static메소드(인수, ….)
        
    // 물론, static 멤버도 멤버이기 때문에 객체를 통해 접근 가능
    
    객체명. static필드
    객체명.static메소드(인수, …)
    ```



- static의 활용

  1. 객체들 간의 공유 멤버로 활용
     - static 선언된 필드나 메소드는 클래스 내의 각 객체들이 공통으로 사용 가능
     - 모든 객체가 공유
  2. 전역 변수와 전역 함수 만들 때 사용
     - 자바에서는 어떤 변수나 함수(메소드)도 클래스 밖에 존재할 수 없음
     - 모든 변수와 메소드는 클래스의 멤버로 존재 (캡슐화의 원칙)
     - 응용프로그램 작성 시 클래스가 여러 개 있는 경우
     - 모든 클래스에서 공유할 수 있는 전역 변수와 전역 함수 필요
     - 이런 문제를 해결하기 위해 static 사용

  

- static 메소드 제약

  - static 메소드는 static 멤버만 접근 가능

  

- static 멤버 선언

  - 앞에 static 키워드 사용(명시적 선언)

    ```java
    static int staticVar;  // static 필드
    static void staticMethod() { // static 메소드
    ```

  

- static 초기화 블록

  - 클래스가 메소드 영역(static 영역)으로 로딩될 때 자동으로 실행되는 블록
  - 클래스 내부에 여러 개가 선언되면 선언된 순서대로 실행
  - static 필드의 복잡한 초기화 작업과 static 메소드 호출 가능

  ```java
  static {  }
  
  // 예시
  public class TV {
      static String comany = "Samsung";
      static String model = "LCD";
      static String info;
      
      static {
          info = company + "-" + model;
      }
  }
  ```

  - static 블록 사용 시 주의점
    - static 블록 내부에 인스턴스 필드나 인스턴스 메소드 사용 불가
    - 객체 자신을 참조하는 this 사용 불가
    - static 메소드와 static 블록에서 인스턴스 멤버를 사용하고 싶다면 
      객체를 먼저 생성하고 참조 변수로 접근



### 변수(필드)의 초기화 정리



#### 초기화

- 변수를 선언하고 처음으로 값을 저장하는 것
- 이전에 사용한 다른 값이 들어 있을 수 있으므로 초기화하고 사용













